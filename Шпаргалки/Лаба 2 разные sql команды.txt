--первая таблица
USE Sales;
CREATE TABLE Customers(
IdCustomer INT IDENTITY(1,1) PRIMARY KEY,
[Название фирмы] varchar(60),
фамилия varchar(60) NOT NULL,
имя varchar(60) NOT NULL,
адрес varchar(200) NOT NULL,
город varchar(60) NOT NULL,
индекс int NOT NULL,
телефон varchar(20) NOT NULL,
);

--четвертая таблица
USE Sales;
CREATE TABLE Orders(
IdOrder INT IDENTITY(1,1) CONSTRAINT pk_order PRIMARY KEY,
IdCustomer int NOT NULL,
OrderData DATE NOT NULL,
ShipDate DATE NULL,
PaidDate DATE NULL,
[Status] char(1)
);

--установить связь
ALTER TABLE Orders
ADD CONSTRAINT FR_Ord_Cust --FR_Ord_Cust - имя внешнего ключа для СУБД
	FOREIGN KEY (IdCustomer) REFERENCES Customers (IdCustomer)

--Удалить все стобцы, либо отдельные записи.
DELETE FROM <имя таблицы> [WHERE <условие>] -- если не указать условие, удалится все
--Пример
DELETE FROM dbo.Orders WHERE IdCustomer < 10;

--Пример. Для таблицы Orders, установить сегодняшнюю дату отгрузки для всех обработанных заказов.
UPDATE Orders SET ShipDate = GETDATE()
WHERE [Status]='P'

--Если необходимо из таблицы удалить все записи, но сохранить ее структуру, нужно воспользоваться командой 
TRUNCATE TABLE <Имя таблицы>

--Сбросить счетчик на 1
DBCC CHECKIDENT ('название_таблицы', RESEED, 0)

--Посмотреть содержимое таблицы
SELECT *FROM <Имя таблицы>

-- Если не получается открыть диаграмму из-за смены пользователя, то
ALTER AUTHORIZATION 
ON DATABASE::[Sales]
TO [DESKTOP-GIAV53P\Тимур];

-- Получить текущее имя пользователя
SELECT ORIGINAL_LOGIN ()